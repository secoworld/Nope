{% extends "base.html" %}
{% load staticfiles %}

<!-- 拓展标题 -->
{% block title %} 刘龙韬的博客-列表{{ list_name }} {% endblock title %}
<!-- 拓展标题结束 -->

{% block body %}
<div class="col-md-9 ">
    <div class="row">
        <!-- 列表内容 -->
        <div class=" col-md-12 ">
            <div class="list-detail-group">
                <h4>列表：{{ list_name }}</h4>
            </div>
        </div>
        <!-- 文章列表 -->
        <div class="col-md-12" id="index_article">
            <div class="article">

                {% for list in lists %}
                <div class="article-item">
                    <div class="article-header">
                        <a href="{% url 'article:detail' list.id  %}">{{ list.title }}</a>
                    </div>
                    <div class="article-views">
                        <p>{{ list.context|truncatewords:5|safe }}</p>
                    </div>
                    <div class="article-info">
                        <ul>
                            <li>作者：<a href="#">{{ list.author }}</a></li>
                            </li>
                            <li> 发表日期：{{ list.created_time|date:"Y/m/d"}}</li>
                            <li>分类:<a href="{% url 'article:category' list.category.urlname %}">{{ list.category.name}}</a>
                            </li>
                        </ul>
                    </div>
                </div>
                {% endfor %}


                <!-- {%  for article in articles %}
                            <div class="article-item">
                                <div class="article-header">
                                    <a href="{% url 'blog:detail' article.id %}">{{ article.title }}</a>
                                </div>
                                <div class="article-views">
                                    <p>{{ article.content|truncatewords:20 }}</p> 
                                </div>
                                <div class="article-info">
                                    <ul>
                                        <li>作者：<a href="{% url 'blog:home'%}author-{{article.author.id}}">{{ article.author }}</a></li>                                            </li>
                                        <li>发表日期：<a href="#">{{ article.created_time }} </a></li>
                                    </ul>  
                                </div>                                
                            </div>
                            {% endfor %} -->


            </div>

        </div>

        <!-- 设置文章的页码 -->
        <div class="col-md-12">
                <div class="panginator">
                    <nav aria-label="Page navigation">
                        <ul class="pagination pagination-lg">
                            {% if lists.has_previous %}
                            <li>
                                <a href="?page={{ lists.previous_page_number }}" aria-label="Previous">
                                    <span aria-hidden="true">&laquo;</span>
                                </a>
                            </li>
                            {% else %}
                            <li>
                                <a href="?page={{ lists.number }}" aria-label="Previous">
                                    <span aria-hidden="true">&laquo;</span>
                                </a>
                            </li>
                            {% endif %}
    
                            {% for page in pages.page_range %}
                            <li {% if page == lists.number %} class="active" {% endif %}><a
                                    href="?page={{ page }}">{{ page }}</a></li>
                            {% endfor%}
    
                            {% if lists.has_next %}
                            <li>
                                <a href="?page={{ lists.next_page_number }}" aria-label="Next">
                                    <span aria-hidden="true">&raquo;</span>
                                </a>
                            </li>
                            {% else %}
                            <li>
                                <a href="?page={{ lists.number}}" aria-label="Next">
                                    <span aria-hidden="true">&raquo;</span>
                                </a>
                            </li>
                            {% endif %}
                        </ul>
                </div>
    
            </div>


    </div>

</div>
{% endblock %}